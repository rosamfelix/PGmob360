[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "PG Mobilidade 360",
    "section": "",
    "text": "In√≠cio\nMateriais e dados para as aulas de Literacia sobre dados abertos em transportes, m√≥dulo da P√≥s-Gradua√ß√£o Mobilidade 360¬∫ Gest√£o de Transportes do Iscte Executive Education.\n\n\n\n\n\n\n\n\n\n\n\nNota\n\n\n\nEste website foi totalmente desenvolvido em R."
  },
  {
    "objectID": "summary.html#literacia-sobre-dados-abertos-em-transportes",
    "href": "summary.html#literacia-sobre-dados-abertos-em-transportes",
    "title": "1¬† Planeamento",
    "section": "1.1 Literacia sobre dados abertos em transportes",
    "text": "1.1 Literacia sobre dados abertos em transportes\n\nIntrodu√ß√£o ao R\nImporta√ß√£o e limpeza de dados de transportes em R\nMapas interativos em R\nOs dados abertos e as operadoras de mobilidade e transportes\nExemplos internacionais de an√°lises com dados abertos\nIntrodu√ß√£o ao GTFS\nFontes de dados GTFS e tratamento\nAn√°lise espacial em R\nBoas pr√°ticas de partilha e abertura de dados de mobilidade e transportes\nExerc√≠cio pr√°tico utilizando dados abertos"
  },
  {
    "objectID": "summary.html#hor√°rio",
    "href": "summary.html#hor√°rio",
    "title": "1¬† Planeamento",
    "section": "1.2 Hor√°rio",
    "text": "1.2 Hor√°rio\nAs aulas decorrer√£o nos seguintes hor√°rios:\n\nQuinta-feira, 14 Novembro, 14h00-18h00\nQuarta-feira, 20 Novembro, 14h00-18h00\nQuinta-feira, 21 Novembro, 14h00-18h00"
  },
  {
    "objectID": "summary.html#zoom",
    "href": "summary.html#zoom",
    "title": "1¬† Planeamento",
    "section": "1.3 Zoom",
    "text": "1.3 Zoom\nAs aulas ser√£o em modo remoto, via zoom, atrav√©s do seguinte endere√ßo:\nhttps://videoconf-colibri.zoom.us/my/rosamfelix"
  },
  {
    "objectID": "software.html#r",
    "href": "software.html#r",
    "title": "2¬† Software",
    "section": "2.1 R",
    "text": "2.1 R\nO R ou R stats (como tamb√©m √© conhecido) √© uma linguagem de programa√ß√£o e um ambiente de software livre para computa√ß√£o estat√≠stica e gr√°ficos apoiado pela R Foundation for Statistical Computing.\nOs links para download est√£o no The Comprehensive R Archive Network (aka CRAN). A vers√£o mais recente √© a 4.4.2, mas pode usar &gt;= 4.1.x se j√° a tiver instalada.\n\nWindowsMac\n\n\nDownload R-4.4.2 para Windows e correr o ficheiro execut√°vel.\n\n\n\n\n\n\nImportante\n\n\n\nDever√° tamb√©m instalar o Rtools, que √© uma cole√ß√£o de ferramentas necess√°rias para construir pacotes R no Windows.\nEscolha o segundo link para processador ARM (mais recente), e o primeiro link caso contr√°rio.\n\n\n\n\nDownload R-4.4.2 para MacOX. Ter√° de escolher entre a vers√£o arm64 ou a vers√£o x86-64.\nTransfira o ficheiro .pkg e instale-o como habitualmente.\n\n\n\nAp√≥s esta instala√ß√£o, n√£o √© necess√°rio abrir o R. Prossiga com a instala√ß√£o do RStudio."
  },
  {
    "objectID": "software.html#rstudio",
    "href": "software.html#rstudio",
    "title": "2¬† Software",
    "section": "2.2 RStudio",
    "text": "2.2 RStudio\nO RStudio Desktop √© um ambiente de desenvolvimento integrado (IDE) para o R. Inclui uma consola, um editor de c√≥digo com realce para as fun√ß√µes de bases, bem como ferramentas para fazer gr√°ficos, e an√°lises estat√≠sticas.\nO RStudio est√° dispon√≠vel para descarregamento gratuito em Posit RStudio.\n\nWindows 10/11MacOS\n\n\nDownload RStudio 2024.09 e correr o ficheiro execut√°vel.\n\n\nDownload RStudio 2024.09 e instale-o como habitualmente."
  },
  {
    "objectID": "software.html#pacotes-de-r",
    "href": "software.html#pacotes-de-r",
    "title": "2¬† Software",
    "section": "2.3 Pacotes de R",
    "text": "2.3 Pacotes de R\nTer√° de instalar alguns pacotes para trabalhar com os dados e os scripts destas aulas.\nPode instal√°-los no RStudio procurando por eles no separador Packages:\n\nou executando o seguinte c√≥digo (um a um) na consola:\n\ninstall.packages(\"tidyverse\")\ninstall.packages(\"readxl\")\n\ninstall.packages(\"sf\")\ninstall.packages(\"mapview\")\ninstall.packages(\"rmarkdown\")\ninstall.packages(\"centr\")\ninstall.packages(\"od\")\n\ninstall.packages(\"r5r\")\ninstall.packages(\"rJavaEnv\")\n\ninstall.packages(\"osmextract\") # opcional\ninstall.packages(\"stplanr\") # opcional"
  },
  {
    "objectID": "software.html#java-development-kit",
    "href": "software.html#java-development-kit",
    "title": "2¬† Software",
    "section": "2.4 Java Development Kit",
    "text": "2.4 Java Development Kit\nPara utilizar o pacote {r5r} √© necess√°rio ter o Java Development Kit (JDK) 21 instalado no computador. Existem in√∫meras implementa√ß√µes de c√≥digo aberto do JDK. A maneira mais f√°cil de instalar o JDK √© usando o novo pacote {rJavaEnv} no R.\n\n# verificar a vers√£o de Java atualmente instalada (se existir) \nrJavaEnv::java_check_version_rjava()\n\n## se esta for a primeira vez que utiliza {rJavaEnv}, poder√° ter de executar\n## este c√≥digo abaixo para consentir a instala√ß√£o de Java\nrJavaEnv::rje_consent(provided = TRUE)\n\n# instalar Java 21\nrJavaEnv::java_quick_install(\n  version = 21,\n  distribution = 'Corretto')\n\n# verificar se o Java foi instalado com sucesso\nrJavaEnv::java_check_version_rjava()\n\nEm alternativa, pode transferir e instalar manualmente o JDK 21.\n\nWindows e MacOS\n\n\nAceda a Java Development Kit 21, transfira a √∫ltima vers√£o 21 correspondente ao seu sistema operativo e execute o ficheiro execut√°vel."
  },
  {
    "objectID": "data-manipulation.html#selecionar-vari√°veis",
    "href": "data-manipulation.html#selecionar-vari√°veis",
    "title": "3¬† Tratamento de dados",
    "section": "3.1 Selecionar vari√°veis",
    "text": "3.1 Selecionar vari√°veis\nD√™ uma vista de olhos ao seu conjunto de dados. Pode abrir a tabela utilizando View(), ver a informa√ß√£o no painel ‚ÄúEnvironment‚Äù, ou mesmo imprimir o conte√∫do estruturado com glimpse()\n\nglimpse(TRIPS)\n\nRows: 236\nColumns: 9\n$ Origin   &lt;chr&gt; \"110501\", \"110501\", \"110506\", \"110506\", \"110507\", \"110507\", \"‚Ä¶\n$ Total    &lt;dbl&gt; 35539, 47602, 37183, 42313, 30725, 54586, 57747, 67884, 940, ‚Ä¶\n$ Walk     &lt;dbl&gt; 11325, 3502, 12645, 1418, 9389, 2630, 20423, 3573, 623, 1738,‚Ä¶\n$ Bike     &lt;dbl&gt; 1309, 416, 40, 163, 1481, 168, 1406, 809, 13, 37, 3, 139, 0, ‚Ä¶\n$ Car      &lt;dbl&gt; 21446, 37727, 22379, 37337, 19654, 44611, 33044, 52251, 192, ‚Ä¶\n$ PTransit &lt;dbl&gt; 1460, 5519, 2057, 3285, 201, 6963, 2477, 10534, 110, 4836, 93‚Ä¶\n$ Other    &lt;dbl&gt; 0, 437, 63, 106, 0, 215, 396, 717, 2, 169, 3, 824, 0, 324, 0,‚Ä¶\n$ Internal &lt;dbl&gt; 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0‚Ä¶\n$ Lisbon   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1‚Ä¶\n\n\nVamos criar um novo conjunto de dados com Origin, Walk, Bike e Total. Usamos a fun√ß√£o select().\n\nTRIPS_new = select(TRIPS, Origin, Walk, Bike, Total) # o primeiro argumento √© a base de dados\n\nEm R, o primeiro argumento √© normalmente referente ao conjunto de dados, e os restantes s√£o as colunas a selecionar.\nCom o dplyr n√£o √© necess√°rio referir a data$... , podemos simplesmente escrever os nomes das vari√°veis (e mesmo sem o ‚Äú...‚Äù!). Isto torna o c√≥digo em R mais simples üôÇ\nCom o select() podemos tamb√©m remover colunas que n√£o precisamos.\n\nTRIPS_new = select(TRIPS_new, -Total) # deixar cair a vari√°vel Total\n\n\n3.1.1 Using pipes!\nNow, let‚Äôs introduce pipes. Pipes are a rule as: ‚ÄúWith this, do this.‚Äù\nThis is useful to skip the first argument of the functions (usually the dataset to apply the function).\nApplying a pipe to the select() function, we can write as:\n\nTRIPS_new = TRIPS |&gt; select(Origin, Walk, Bike, Total)\n\nTwo things to note:\n\nThe pipe symbol can be written as |&gt; or %&gt;%. 1 To write it you may also use the ctrl+shift+m shortcut.\nAfter typing select( you can press tab and the list of available variables of that dataset will show up! Enter to select. With this you prevent typo errors."
  },
  {
    "objectID": "data-manipulation.html#filter-observations",
    "href": "data-manipulation.html#filter-observations",
    "title": "3¬† Tratamento de dados",
    "section": "3.2 Filter observations",
    "text": "3.2 Filter observations\nYou can filter observations based on a condition using the filter() function.\n\nTRIPS2 = TRIPS[TRIPS$Total &gt; 25000,] # using r-base, you cant forget the comma\nTRIPS2 = TRIPS2 |&gt; filter(Total &gt; 25000) # using dplyr, it's easier\n\nYou can have other conditions inside the condition.\n\nsummary(TRIPS$Total)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n    361    5918   17474   22457   33378  112186 \n\nTRIPS3 = TRIPS |&gt; filter(Total &gt; median(Total)) \n\nOther filter conditions:\n\n== equal, != different\n&lt; smaller, &gt; greater, &lt;= smaller or equal, &gt;= greater or equal\n& and, | or\nis.na, !is.na is not NA\n%in%, !%in% not in"
  },
  {
    "objectID": "data-manipulation.html#create-new-variables",
    "href": "data-manipulation.html#create-new-variables",
    "title": "3¬† Tratamento de dados",
    "section": "3.3 Create new variables",
    "text": "3.3 Create new variables\nYou can also try again to create a variable of Car percentage using pipes! To create a new variable or change an existing one (overwriting), you can use the mutate() function.\n\nTRIPS$Car_perc = TRIPS$Car/TRIPS$Total * 100 # using r-base\n\nTRIPS = TRIPS |&gt; mutate(Car_perc = Car/Total * 100) # using dplyr"
  },
  {
    "objectID": "data-manipulation.html#change-data-type",
    "href": "data-manipulation.html#change-data-type",
    "title": "3¬† Tratamento de dados",
    "section": "3.4 Change data type",
    "text": "3.4 Change data type\nData can be in different formats. For example, the variable Origin is a character, but we can convert it to a numeric variable.\n\nclass(TRIPS$Origin)\n\n[1] \"character\"\n\nTRIPS = TRIPS |&gt; \n  mutate(Origin_num = as.integer(Origin)) # you can use as.numeric() as well\nclass(TRIPS$Origin_num)\n\n[1] \"integer\"\n\n\nMost used data types are:\n\ninteger (int)\nnumeric (num)\ncharacter (chr)\nlogical (logical)\ndate (Date)\nfactor (factor)\n\n\n3.4.1 Factors\nFactors are useful to deal with categorical data. You can convert a character to a factor using as.factor(), and also use labels and levels for categorical ordinal data.\nWe can change the Lisbon variable to a factor, and Internal too.\n\nTRIPS = TRIPS |&gt; \n  mutate(Lisbon_factor = factor(Lisbon, labels = c(\"No\", \"Yes\")),\n         Internal_factor = factor(Internal, labels = c(\"Inter\", \"Intra\")))\n\nBut how do we know which levels come first? A simple way is to use table() or unique() functions.\n\nunique(TRIPS$Lisbon) # this will show all the different values\n\n[1] 0 1\n\ntable(TRIPS$Lisbon) # this will show the frequency of each value\n\n\n  0   1 \n188  48 \n\ntable(TRIPS$Lisbon_factor)\n\n\n No Yes \n188  48 \n\n\nThe first number to appear is the first level, and so on.\nYou can see the difference between using a continuous variable (in this case Lisbon` has 0 and 1) and a categorical variable (Lisbon_factor).\n\nplot(TRIPS$Lisbon) # the values range between 0 and 1\n\n\n\nplot(TRIPS$Lisbon_factor) # the values are categorical and labeled with Yes/No"
  },
  {
    "objectID": "data-manipulation.html#join-data-tables",
    "href": "data-manipulation.html#join-data-tables",
    "title": "3¬† Tratamento de dados",
    "section": "3.5 Join data tables",
    "text": "3.5 Join data tables\nWhen having relational tables - i.e. with a common identifier - it is useful to be able to join them in a very efficient way.\nleft_join is a function that joins two tables by a common column. The first table is the one that will be kept, and the second one will be joined to it. How left_join works:\n\n\n\nA visual representation of the left join where every row in x appears in the output.Source: R for Data Science.\n\n\nLet‚Äôs join the municipalities to this table with a supporting table that includes all the relation between neighbourhoods and municipalities, and the respective names and codes.\n\nMunicipalities = readRDS(\"data/Municipalities_names.Rds\")\n\n\nhead(TRIPS)\n\n# A tibble: 6 √ó 13\n  Origin Total  Walk  Bike   Car PTransit Other Internal Lisbon Car_perc\n  &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;\n1 110501 35539 11325  1309 21446     1460     0        0      0     60.3\n2 110501 47602  3502   416 37727     5519   437        1      0     79.3\n3 110506 37183 12645    40 22379     2057    63        0      0     60.2\n4 110506 42313  1418   163 37337     3285   106        1      0     88.2\n5 110507 30725  9389  1481 19654      201     0        0      0     64.0\n6 110507 54586  2630   168 44611     6963   215        1      0     81.7\n# ‚Ñπ 3 more variables: Origin_num &lt;int&gt;, Lisbon_factor &lt;fct&gt;,\n#   Internal_factor &lt;fct&gt;\n\ntail(Municipalities)\n\n    Mun_code Neighborhood_code        Municipality\n113     1109            110913               Mafra\n114     1114            111409 Vila Franca de Xira\n115     1109            110918               Mafra\n116     1109            110904               Mafra\n117     1502            150202           Alcochete\n118     1109            110911               Mafra\n                                             Neighborhood\n113                                         Santo Isidoro\n114                                   Vila Franca de Xira\n115 Uni√£o das freguesias de Azueira e Sobral da Abelheira\n116                                            Encarna√ß√£o\n117                                               Samouco\n118                                             Milharado\n\n\nWe can see that we have a common variable: Origin in TRIPS and Neighborhood_code in Municipalities.\nTo join these two tables we need to specify the common variable in each table, using the by argument.\n\nTRIPSjoin = TRIPS |&gt; left_join(Municipalities, by = c(\"Origin\" = \"Neighborhood_code\"))\n\nIf you prefer, you can mutate or rename a variable so both tables have the same name. When both tables have the same name, you don‚Äôt need to specify the by argument.\n\nMunicipalities = Municipalities |&gt; rename(Origin = \"Neighborhood_code\") # change name\nTRIPSjoin = TRIPS |&gt; left_join(Municipalities) # automatic detects common variable\n\nAs you can see, both tables don‚Äôt need to be the same length. The left_join function will keep all the observations from the first table, and join the second table to it. If there is no match, the variables from the second table will be filled with NA."
  },
  {
    "objectID": "data-manipulation.html#group_by-and-summarize",
    "href": "data-manipulation.html#group_by-and-summarize",
    "title": "3¬† Tratamento de dados",
    "section": "3.6 group_by and summarize",
    "text": "3.6 group_by and summarize\nWe have a very large table with all the neighbourhoods and their respective municipalities. We want to know the total number of trips with origin in each municipality.\nTo make it easier to understand, let‚Äôs keep only the variables we need.\n\nTRIPSredux = TRIPSjoin |&gt; select(Origin, Municipality, Internal, Car, Total)\nhead(TRIPSredux)\n\n# A tibble: 6 √ó 5\n  Origin Municipality Internal   Car Total\n  &lt;chr&gt;  &lt;chr&gt;           &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 110501 Cascais             0 21446 35539\n2 110501 Cascais             1 37727 47602\n3 110506 Cascais             0 22379 37183\n4 110506 Cascais             1 37337 42313\n5 110507 Cascais             0 19654 30725\n6 110507 Cascais             1 44611 54586\n\n\nWe can group this table by the Municipality variable and summarize the number of trips with origin in each municipality.\n\nTRIPSsum = TRIPSredux |&gt; \n  group_by(Municipality) |&gt; # you won't notice any chagne with only this\n  summarize(Total = sum(Total))\nhead(TRIPSsum)\n\n# A tibble: 6 √ó 2\n  Municipality   Total\n  &lt;chr&gt;          &lt;dbl&gt;\n1 Alcochete      36789\n2 Almada        289834\n3 Amadora       344552\n4 Barreiro      133658\n5 Cascais       373579\n6 Lisboa       1365111\n\n\nWe summed the total number of trips in each municipality.\nIf we want to group by more than one variable, we can add more group_by() functions.\n\nTRIPSsum2 = TRIPSredux |&gt; \n  group_by(Municipality, Internal) |&gt; \n  summarize(Total = sum(Total),\n            Car = sum(Car))\nhead(TRIPSsum2)\n\n# A tibble: 6 √ó 4\n# Groups:   Municipality [3]\n  Municipality Internal  Total    Car\n  &lt;chr&gt;           &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n1 Alcochete           0  16954   9839\n2 Alcochete           1  19835  15632\n3 Almada              0 105841  49012\n4 Almada              1 183993 125091\n5 Amadora             0 117727  33818\n6 Amadora             1 226825 142386\n\n\nWe summed the total number of trips and car trips in each municipality, separated by inter and intra municipal trips.\n\n\n\n\n\n\nIt is a good practice to use the ungroup() function after the group_by() function. This will remove the grouping. If you don‚Äôt do this, the grouping will be kept and you may have unexpected results in the next time you use that dataset."
  },
  {
    "objectID": "data-manipulation.html#arrange-data",
    "href": "data-manipulation.html#arrange-data",
    "title": "3¬† Tratamento de dados",
    "section": "3.7 Arrange data",
    "text": "3.7 Arrange data\nYou can sort a dataset by one or more variables.\nFor instance, arrange() by Total trips, ascending or descending order.\n\nTRIPS2 = TRIPSsum2 |&gt; arrange(Total)\nTRIPS2 = TRIPSsum2 |&gt; arrange(-Total) # descending\n\nTRIPS2 = TRIPSsum2 |&gt; arrange(Municipality) # alphabetic\n\nTRIPS4 = TRIPS |&gt; arrange(Lisbon_factor, Total) # more than one variable\n\nThis is not the same as opening the view table and click on the arrows. When you do that, the order is not saved in the dataset. If you want to save the order, you need to use the arrange() function."
  },
  {
    "objectID": "data-manipulation.html#all-together-now",
    "href": "data-manipulation.html#all-together-now",
    "title": "3¬† Tratamento de dados",
    "section": "3.8 All together now!",
    "text": "3.8 All together now!\nThis is the pipes magic. It takes the last result and applies the next function to it. ‚ÄúWith this, do this.‚Äù. You can chain as many functions as you want.\n\nTRIPS_pipes = TRIPS |&gt; \n  select(Origin, Internal, Car, Total) |&gt; \n  \n  mutate(Origin_num = as.integer(Origin)) |&gt; \n  mutate(Internal_factor = factor(Internal, labels = c(\"Inter\", \"Intra\"))) |&gt; \n  \n  filter(Internal_factor == \"Inter\")|&gt;\n  \n  left_join(Municipalities) |&gt;\n  \n  group_by(Municipality) |&gt;\n  summarize(Total = sum(Total),\n            Car = sum(Car),\n            Car_perc = Car/Total * 100) |&gt; \n  ungroup() |&gt; \n  \n  arrange(desc(Car_perc))\n\nWith this code we will have a table with the total number of intercity trips, by municipality, with their names instead of codes, arranged by the percentage of car trips.\n\nTRIPS_pipes\n\n# A tibble: 18 √ó 4\n   Municipality         Total    Car Car_perc\n   &lt;chr&gt;                &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;\n 1 Mafra                65811  46329     70.4\n 2 Sesimbra             49370  31975     64.8\n 3 Cascais             161194  96523     59.9\n 4 Palmela              66428  39688     59.7\n 5 Alcochete            16954   9839     58.0\n 6 Set√∫bal             129059  70318     54.5\n 7 Montijo              57164  30900     54.1\n 8 Seixal              120747  63070     52.2\n 9 Sintra              237445 123408     52.0\n10 Oeiras              134862  66972     49.7\n11 Almada              105841  49012     46.3\n12 Loures              132310  60478     45.7\n13 Barreiro             52962  24160     45.6\n14 Odivelas             93709  39151     41.8\n15 Vila Franca de Xira 115152  47201     41.0\n16 Moita                51040  17394     34.1\n17 Amadora             117727  33818     28.7\n18 Lisboa              280079  69038     24.6"
  },
  {
    "objectID": "data-manipulation.html#other-dplyr-functions",
    "href": "data-manipulation.html#other-dplyr-functions",
    "title": "3¬† Tratamento de dados",
    "section": "3.9 Other dplyr functions",
    "text": "3.9 Other dplyr functions\nYou can explore other dplyr functions and variations to manipulate data in the dplyr cheat sheet:\n\n\n\n\n\nTake a particular attention to pivot_wider and pivot_longer (tidyr package) to transform OD matrices in wide and long formats.\n\n\n\nOD matrix in long format\n\n\nOrigins\nDestinations\nTrips\n\n\n\n\nA\nB\n20\n\n\nA\nC\n45\n\n\nB\nA\n10\n\n\nC\nC\n5\n\n\nC\nA\n30\n\n\n\n\n\n\n\n\nOD matrix in wide format\n\n\nTrips\nA\nB\nC\n\n\n\n\nA\nNA\n20\n45\n\n\nB\n10\nNA\nNA\n\n\nC\n30\nNA\n5\n\n\n\n\n\n\n\n\n\n\n\nINE. 2018. ¬´Mobilidade e funcionalidade do territ√≥rio nas √Åreas Metropolitanas do Porto e de Lisboa: 2017¬ª. Lisboa: Instituto National de Estat√≠stica. https://www.ine.pt/xportal/xmain?xpid=INE&xpgid=ine_publicacoes&PUBLICACOESpub_boui=349495406&PUBLICACOESmodo=2&xlang=pt."
  },
  {
    "objectID": "data-manipulation.html#footnotes",
    "href": "data-manipulation.html#footnotes",
    "title": "3¬† Tratamento de dados",
    "section": "",
    "text": "You can change this in RStudio &gt; Tools &gt; Global Options &gt; Code.‚Ü©Ô∏é"
  },
  {
    "objectID": "interactive-maps.html#mapview",
    "href": "interactive-maps.html#mapview",
    "title": "4¬† Mapas interativos",
    "section": "4.1 Mapview",
    "text": "4.1 Mapview\nUma grande vantagem do Mapview √© que permite criar mapas interactivos rapidamente, bastando para isso declarar a fun√ß√£o mapview().\n\n\nC√≥digo\nlibrary(mapview)\nmapview(TRIPSgeo)\n\n\n\n\n\n\n\nPara colorir os pontos por uma vari√°vel, pode utilizar o argumento zcol.\n\n\nC√≥digo\nmapview(TRIPSgeo, zcol = \"Total\")\n\n\n\n\n\n\n\nComo pode observar, √© atribu√≠da automaticamente uma palete de cores √† vari√°vel cont√≠nua.\nExperimente com uma vari√°vel categ√≥rica.\n\n\nC√≥digo\nmapview(TRIPSgeo,\n        zcol = \"Municipality\", # vari√°vel a colorir\n        alpha.regions = 0.4, # adicionar transpar√™ncia 40%\n        color = \"white\" # cor da linha\n        ) \n\n\n\n\n\n\n\n\nNote que pode alterar o mapa base ou clicar nas geometrias para ver os dados associados √†s mesmas.\n\n\n\n\nO mapview oferece v√°rias op√ß√µes para visualiza√ß√£o dos dados. Consulte a sua documenta√ß√£o para ver todas as op√ß√µes.\n\n4.1.1 Exportar\nPode exportar diretamente o mapa como um ficheiro html ou como imagem, utilizando o painel Viewer."
  },
  {
    "objectID": "interactive-maps.html#flowmap-blue",
    "href": "interactive-maps.html#flowmap-blue",
    "title": "4¬† Mapas interativos",
    "section": "4.2 Flowmap blue",
    "text": "4.2 Flowmap blue\nUma forma de visualizar volumes de tr√°fego ou viagens entre √°reas (pares OD) √© atrav√©s da ferramenta online flowmap.blue.\nNo entanto, √© necess√°rio preparar os dados para que fiquem exatamente com o formato solicitado. Ver o c√≥digo usado.\n\nlocations\nflows\n\nExperimente copiar e colar, nos campos correspondentes, a informa√ß√£o sobre as viagens na √°rea metropolitana de lisboa segundo o INE (2018).\n\n\n\nViagens totais na AML representadas interativamente no Flowmap.blue\n\n\n\n\n\n\n\n\nTPC\n\n\n\nExperimente visualizar as viagems em transporte p√∫blico na AML. (flows_pt)\n\nQue diferen√ßas identifica?\nQuantas viagens s√£o realizadas diariamente em TP com origem ou destino em Sintra?\n\n\n\n\n\n\n\n\n\nINE. 2018. ¬´Mobilidade e funcionalidade do territ√≥rio nas √Åreas Metropolitanas do Porto e de Lisboa: 2017¬ª. Lisboa: Instituto National de Estat√≠stica. https://www.ine.pt/xportal/xmain?xpid=INE&xpgid=ine_publicacoes&PUBLICACOESpub_boui=349495406&PUBLICACOESmodo=2&xlang=pt."
  },
  {
    "objectID": "open-data.html#pontos-de-acesso-nacionais-nap",
    "href": "open-data.html#pontos-de-acesso-nacionais-nap",
    "title": "5¬† Dados Abertos em transportes",
    "section": "5.1 Pontos de Acesso Nacionais (NAP)",
    "text": "5.1 Pontos de Acesso Nacionais (NAP)\n\n5.1.1 Uni√£o Europeia\nA diretiva ITS da Comiss√£o Europeia (2010/40/EU) recomenda aos Estados-Membros que forne√ßam acesso a dados sobre transportes, de acordo com os stardards definidos pela CE. Os dados incluem n√£o s√≥ dados sobre transportes p√∫blicos, mas tamb√©m redes rodovi√°rias, parques de estacionamento e outras informa√ß√µes relacionadas com transportes.\nList of the European Union members states with National Access Points for Transportation data\nExemplo dos dados de servi√ßos de autocarro na B√©lgica:\n\n\n\nFonte: Transport Data Belgium\n\n\n\n\n5.1.2 Portugal\n\nNAP\nEm Portugal, o NAP encontra-se em https://nap-portugal.imt-ip.pt\n\n\n\n\n\n\n\n\n\n\n\nTPC\n\n\n\n\nEncontrar os dados dos parques de estacionamento municipais do Porto.\nEncontrar e descarregar os dados GTFS da Carris Metropolitana\n\n\n\n\n\nPortal de dados abertos\nO portal dados.gov.pt √© a plataforma oficial nacional de partilha de dados institucionais.\nAlguns websites de dados abertos de munic√≠pios tamb√©m incluem dados de mobilidade e transportes, como √© o caso de:\n\nDados Abertos da C√¢mara Municipal de Lisboa\nDados Abertos da C√¢mara Municipal de Cascais\nDados Abertos da C√¢mara Municipal de Oeiras\nDados Abertos da C√¢mara Municipal do Porto\n\n\n\n\nFonte: data.cascais.pt\n\n\nCada vez mais, os dados de transporte disponibilizados est√£o georreferenciados - i.e., √© poss√≠vel serem visualizados num mapa.\nAlgumas institui√ß√µes permitem o download dos dados, e outros apenas a visualiza√ß√£o dos mesmos em mapas ou dashboards interativas.\nAs boas pr√°ticas recomendam que os dados venham acompanhados de metadados, que incluem toda a informa√ß√£o relevante sobre os dados (ex: explica√ß√£o dos acr√≥nimos de vari√°veis usadas).\nOutras informa√ß√µes que acompanham os dados abertos s√£o:\n\nDescri√ß√£o\nFormato\nPer√≠odo temporal\nVers√£o\nData da √∫ltima atualiza√ß√£o\nRespons√°vel pela manuten√ß√£o dos dados e contacto\n\n\n\n\nExemplo de informa√ß√£o complementar de dados de Pra√ßas de T√°xis (Cascais)\n\n\nDados de opera√ß√£o (passageiros, bilh√©tica, volumes de tr√°fego, entre outros) normalmente n√£o s√£o disponibilizados ao p√∫blico.\nPor vezes, alguma dessa informa√ß√£o √© inclu√≠da, de forma agregada, nos relat√≥rios anuais de sustentabilidade das operadoras.\n\n\n\n\n\n\nQuest√£o\n\n\n\nEnumere motivos para este tipo de dados n√£o ser, normalmente, de acesso aberto."
  },
  {
    "objectID": "open-data.html#boas-pr√°ticas-de-dados-abertos",
    "href": "open-data.html#boas-pr√°ticas-de-dados-abertos",
    "title": "5¬† Dados Abertos em transportes",
    "section": "5.2 Boas pr√°ticas de dados abertos",
    "text": "5.2 Boas pr√°ticas de dados abertos\nO Open Data Institute publica v√°rios guias de boas pr√°ticas de partilha e uso de dados abertos, tais como valida√ß√£o de veracidade dos dados, anonimiza√ß√£o de dados, avalia√ß√£o dos riscos de partilha de dados, √©tica e responsabilidade, estimativa do valor dos dados partilhados, entre outros.\nOs dados abertos s√£o publicados sob licen√ßas espec√≠ficas, n√£o incluem dados pessoais, informa√ß√£o sens√≠vel e/ou confidencial.\nAlgumas quest√µes devem ser consideradas ao usar um conjunto de dados abertos (The Open Data Institute 2013):\nFormato\n\nComo foram processados os dados?\nEst√£o em estado bruto (raw) ou foram processados?\nDe que modo o seu formato (e granularidade) ir√° afetar a sua an√°lise/produto/aplica√ß√£o?\nQue transforma√ß√µes sint√°ticas (linguagem) e sem√¢nticas (significado) ser√£o necess√°rias?\nEstes dados s√£o compat√≠veis com outros conjuntos de dados de que disp√µe?\n\nQualidade\n\nAt√© que ponto os dados s√£o atuais?\nCom que frequ√™ncia s√£o atualizados?\nCompreende todos os campos e o seu contexto?\nDurante quanto tempo ser√£o publicados? Qual √© o compromisso com o publicador?\nO que sabe sobre a exatid√£o dos dados?\nComo s√£o tratados os dados omissos?\n\nAlguns dados abertos fornecem um API (Application Programming Interface) para que se possa automativamente chamar os dados mais autualizados dispon√≠veis.\n\n5.2.1 Tutoriais\nO ISCTE, no √¢mbito do Plano Nacional de Administra√ß√£o Aberta, criou um conjunto de v√≠deos tutoriais sobre algumas possibilidades da reutiliza√ß√£o de dados, utilizando o R.\n\n\n\nCurso gratuito sobre a utiliza√ß√£o de plataformas de dados abertos (Portugu√™s), do ISCTE\n\n\nA AMA - Ag√™ncia para a Moderniza√ß√£o Administrativa disponibiliza tamb√©m alguns v√≠deos sobre como usar o portal de dados abertos. Chamo a aten√ß√£o para o ‚ÄúComo publicar dados abertos‚Äù, acess√≠vel a qualquer entidade.\n\n\n\n5.2.2 Reutiliza√ß√£o de dados abertos\nQualquer pessoa ou entidade pode aceder a dados abertos (por defini√ß√£o). √â recomendado, como boa pr√°tica, a partilha dos resultados que se obtiveram com a utiliza√ß√£o de um conjunto de dados abertos. Tal permite inspirar outros utilizadores dos dados, bem como dar conhecimento √† entidade que os partilhou trabalhos que podem ser realizados com esses dados - levando muitas vezes √† descoberta de novas prespetivas sobre os dados.\nAs reutiliza√ß√µes documentadas muitas vezes tamb√©m partilham o c√≥digo utilizado para tratamento e an√°lise do conjunto de dados, permitindo a sua replicabilidade e adapta√ß√£o / aplica√ß√£o a outros contextos.\nExemplos de trabalhos realizados por reutiliza√ß√£o de dados abertos:\n\nDados.gov.pt\n\n\n\n\n\n\n\nLxDataLab\n\n\n\nResultados de um desafio LxDataLab"
  },
  {
    "objectID": "open-data.html#exemplos-internacionais",
    "href": "open-data.html#exemplos-internacionais",
    "title": "5¬† Dados Abertos em transportes",
    "section": "5.3 Exemplos internacionais",
    "text": "5.3 Exemplos internacionais\n\n5.3.1 STATS19\nO Departamento de Transportes do Reino Unido (DfT) mant√©m uma importante base de dados com acidentes e colis√µes rodovi√°rias para todo o territ√≥rio - o STATS19, contendo dados uniformizados desde 1926 (centenas de milhares), que t√™m vindo a ser registados pela Pol√≠cia.\nEsta base de dados abertos √© amplamente usada para defini√ß√£o de pol√≠ticas p√∫blicas de seguran√ßa rodvi√°ria, e na academia, com a elabora√ß√£o de v√°rios dashbors e estudos que utilizam os dados. Exemplo:\n\nInteractive dashboard\nCollision map\nVision Zero public map\nBikedata - Compila√ß√£o de v√°rios dados de mobilidade urbana, incluindo colis√µes por tipo, contagens de tr√°fego. Os dados podem ser filtrados e exportados.\nstats19 - Pacote R com todos os dados pr√©-tratados.\n\n\n\n\nCollision Map em Leeds (UK)\n\n\n\n\n\nBikedata: compila√ß√£o de v√°rios dados relativos √† circula√ß√£o em bicicicleta\n\n\n\n\n\nPainel interativo do DfT para os dados de acidentes rodovi√°rios\n\n\n\n\n5.3.2 T√°xis em Nova Iorque\nA comiss√£o de T√°xis de Nova York (Taxi & Limousine Commission) partilha todos os dados de viagens realizadas desde 2009.\nOs dados incluem localiza√ß√£o de origem e destino, data e hora, dist√¢ncia de viagem, tarifa, tipo de pagamento, e n√∫mero de passegeiros transportados.\nTodos os anos, s√£o realizadas v√°rias an√°lises a este conjunto de dados por alunos, investigadores, programadores, etc, que permitem uma an√°lise detalhada e visualiza√ß√£o espacial de padr√µes de mobilidade de t√°xis.\nExemplo 1 | Exemplo 2 | Exemplo 3 | Examplo 4 | Exemplo 5\n\n\n\nDashboard interativo de an√°lise de dados de t√°xis em NY. Fonte: Github.\n\n\n\n\n\nDashboard interativo com viagens de t√°xi em 2018\n\n\n\n\n\nMapa interativo de localiza√ß√£o de origens e destinos de viagens\n\n\n\n\n\n\n\n\nQuest√µes\n\n\n\n\nQue vantagens v√™ na utiliza√ß√£o de dados abertos?\nQue dados a sua institui√ß√£o poderia partilhar em acesso aberto?\nQue vantagens v√™ na abertura de dados para a sua institui√ß√£o?\n\n\n\n\n\n\n\n\n\nThe Open Data Institute. 2013. Guide: The Open Data Consumer Checklist. https://theodi.org/insights/guides/the-open-data-consumer-checklist/."
  },
  {
    "objectID": "road-networks.html#openstreetmap",
    "href": "road-networks.html#openstreetmap",
    "title": "6¬† Redes Vi√°rias",
    "section": "6.1 OpenStreetMap",
    "text": "6.1 OpenStreetMap\nO OpenStreetMap √© um projeto colaborativo de cartografia online com um mapa do mundo edit√°vel e gratuito.\nEsta √© a fonte de dados da rede rodovi√°ria mais utilizada para a an√°lise dos transportes, no mundo acad√©mico, uma vez que a informa√ß√£o est√° dispon√≠vel em quase todo o mundo, √© aberta e de utiliza√ß√£o gratuita.\n\n\n\n\n\n\nEmbora possa n√£o ser 100% correrto, o OSM √© uma boa fonte de dados para a maioria dos casos.\n\n\n\nPode aceder √† sua visualiza√ß√£o em www.openstreetmap.org. Para editar o mapa, pode utilizar o Editor, depois de se registar (gratuitamente).\n\nA introdu√ß√£o ou altera√ß√£o de informa√ß√µes e elementos cartogr√°ficos tem sido feita colaborativamente por pessoas volunt√°rias, normalmente conhecedoras daqueles espa√ßos. No entanto, uma entidade oficial (ex. C√¢mara Municipal) pode solicitar apoio da comunidade OSM local para introdu√ß√£o ou atualiza√ß√£o de informa√ß√£o, como j√° tem sido feito. Estas comunidades normalmente est√£o tamb√©m dispon√≠veis para realizar forma√ß√µes de edi√ß√£o em OpenStreetMap, de modo a conferir autonomia √†s organiza√ß√µes.\nO OpenStreetMap oferece um tutorial (sandbox) para adicionar pontos, editar pol√≠gonos e linhas, e alterar atributos dos elementos do mapa.\n\n\n\nFonte: https://wiki.openstreetmap.org/wiki/ID_editor_walkthrough\n\n\n\n\n\n\n\n\nTPC\n\n\n\n\nRegistar uma conta no OpenStreetMap\nFazer o Walkthrough (guia inicial) para edi√ß√£o de:\n\nPontos\nLinhas\nEdif√≠cios\n\n\n\n\nSe pretender fazer download dos dados, pode utilizar as seguintes ferramentas:\n\nOverpass API\nGeofabrik\n\nEstes websites incluem todos os dados do OSM, mas com muito mais informa√ß√µes do que as necess√°rias."
  },
  {
    "objectID": "road-networks.html#hot-export-tool",
    "href": "road-networks.html#hot-export-tool",
    "title": "6¬† Redes Vi√°rias",
    "section": "6.2 HOT Export Tool",
    "text": "6.2 HOT Export Tool\nEsta ferramenta interactiva ajuda-o a selecionar a √°rea dos dados que pretende extrair, o tipo de informa√ß√£o a incluir e o formato dos dados de sa√≠da. √â muito √∫til!\nAceder em export.hotosm.org1.\n\nAp√≥s a exporta√ß√£o, pode ler os dados em R utilizando o pacote sf. Por exemplo:\n\n\nC√≥digo\nLisboa = sf::st_read(\"data/Lisboa_sample.geojson\", quiet = TRUE)\n\nmapview::mapview(Lisboa, zcol = \"highway\")\n\n\n\n\n\n\n\nOu abrir em qualquer Sistema de Informa√ß√£o Geogr√°fica (QGis, ArcGIS, etc)."
  },
  {
    "objectID": "road-networks.html#osm-em-r",
    "href": "road-networks.html#osm-em-r",
    "title": "6¬† Redes Vi√°rias",
    "section": "6.3 OSM em R",
    "text": "6.3 OSM em R\nExistem tamb√©m alguns pacotes R que podem ajudar a descarregar e trabalhar com os dados do OpenStreetMap, tais como:\n\nosmdata\nosmextract\n\nExemplo de como descarregar dados da rede rodovi√°ria do OpenStreetMap utilizando o pacote osmextract:\n\n\nC√≥digo\nlibrary(osmextract)\nOSM_Malta = oe_get_network(place = \"Malta\") # it will geocode the place\n\nMalta_main_roads = OSM_Malta |&gt; \n  filter(highway %in% c(\"primary\", \"secondary\", \"tertiary\", \"trunk\"))\n\nplot(Malta_main_roads[\"highway\"])\n\n\n\n\n\n\n\nNo cap√≠tulo seguinte iremos explorar o que s√£o dados GTFS e como podem ser usados."
  },
  {
    "objectID": "road-networks.html#footnotes",
    "href": "road-networks.html#footnotes",
    "title": "6¬† Redes Vi√°rias",
    "section": "",
    "text": "√â necess√°rio ter uma conta OSM para usar.‚Ü©Ô∏é"
  },
  {
    "objectID": "gtfs.html#online-sources",
    "href": "gtfs.html#online-sources",
    "title": "7¬† GTFS",
    "section": "7.1 Online sources",
    "text": "7.1 Online sources\nYou can find most GTFS data in the following websites:\n\nTransitLand\nTransitFeeds\n\nSome PT agencies also provide their open-data in their websites. (Ver NAP Portugal)"
  },
  {
    "objectID": "gtfs.html#r-packages",
    "href": "gtfs.html#r-packages",
    "title": "7¬† GTFS",
    "section": "7.2 R packages",
    "text": "7.2 R packages\nThere are some nice R packages to read and manipulate GTFS data, such as:\n\ntidytransit\ngtfstools\n\nBe aware that they may share the same function names, so it is important to use of of them at the time."
  },
  {
    "objectID": "r5r.html",
    "href": "r5r.html",
    "title": "8¬† Acessibilidade com r5r",
    "section": "",
    "text": "Aviso\n\n\n\nP√°gina em constru√ß√£o"
  },
  {
    "objectID": "about.html#rosa-f√©lix",
    "href": "about.html#rosa-f√©lix",
    "title": "Sobre",
    "section": "Rosa F√©lix",
    "text": "Rosa F√©lix\nInvestigadora Senior e Professora convidada\nCERIS, Instituto Superior T√©cnico - Universidade de Lisboa\nWebsite | Google Scholar | Twitter | GitHub | Linkedin\nShort bio\nRosa F√©lix √© investigadora s√©nior de p√≥s-doutoramento no Instituto Superior T√©cnico - Universidade de Lisboa e membro do laborat√≥rio U-Shift, no Grupo de Investiga√ß√£o em Transportes do CERIS. Com forma√ß√£o em Engenharia de Planeamento Urbano, concluiu o doutoramento em Sistemas de Transportes em 2019 no Instituto Superior T√©cnico (programa MIT Portugal), e foi Visiting Scholar na Portland State University em 2017/18.\nRosa √© uma investigadora na √°rea da mobilidade ativa, e distingue-se em R e GIS. √â uma entusiasta da utiliza√ß√£o de c√≥digo aberto e investiga√ß√£o reproduz√≠vel. As suas publica√ß√µes incluem artigos sobre utiliza√ß√£o da bicicleta e mudan√ßa de comportamentos, e solu√ß√µes de c√≥digo aberto para problemas espec√≠ficos de SIG e mobilidade. Todos os anos, Rosa lecciona um curso de planeamento e conce√ß√£o de infra-estruturas cicl√°veis para profissionais, e tamb√©m ensina SIG para Transportes e Introdu√ß√£o √† programa√ß√£o no Mestrado em Sistemas de Transportes.\nRosa tem trabalhado em m√∫ltiplos projetos de I&D e consultoria com munic√≠pios e ind√∫stria, como a C√¢mara Municipal de Lisboa (2019-2022) e a Transportes Metropolitanos de Lisboa (2023), no qual desenvolveu uma ferramenta digital para apoiar o planeamento da rede cicl√°vel metropolitana, o biclaR, em colabora√ß√£o com o Institute for Transport Studies da Universidade de Leeds."
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "Refer√™ncias",
    "section": "",
    "text": "INE. 2018. ‚ÄúMobilidade e Funcionalidade Do Territ√≥rio Nas √Åreas Metropolitanas do Porto e de Lisboa:\n2017.‚Äù Lisboa: Instituto National de Estat√≠stica. https://www.ine.pt/xportal/xmain?xpid=INE&xpgid=ine_publicacoes&PUBLICACOESpub_boui=349495406&PUBLICACOESmodo=2&xlang=pt.\n\n\nThe Open Data Institute. 2013. Guide: The Open Data Consumer\nChecklist. https://theodi.org/insights/guides/the-open-data-consumer-checklist/."
  }
]